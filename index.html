<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Procesador de Delitos Leves | Herramienta Jur√≠dica Profesional</title>
    <!-- Favicon: Balanza de la Justicia (SVG en base64 para no depender de archivos externos) -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>‚öñÔ∏è</text></svg>">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400..700&family=Inter:wght@300;400;500&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-body: #f9f9f9;
            --bg-white: #ffffff;
            --text-primary: #1a1a1a;
            --text-secondary: #555555;
            --accent: #2c3e50;
            --accent-light: #34495e;
            --border: #e0e0e0;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-body);
            color: var(--text-primary);
            line-height: 1.7;
            overflow-x: hidden;
        }

        h1, h2, h3 {
            font-family: 'Playfair Display', serif;
            color: var(--text-primary);
            line-height: 1.3;
        }

        .container {
            max-width: 1100px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        /* --- Header & Hero --- */
        header {
            background-color: var(--bg-white);
            padding: 5rem 0 4rem;
            text-align: center;
            border-bottom: 1px solid var(--border);
        }

        .logo {
            font-size: 3rem;
            font-weight: 700;
            margin-bottom: 1rem;
            letter-spacing: -0.03em;
            color: var(--accent);
        }

        .subtitle {
            font-size: 1.25rem;
            color: var(--text-secondary);
            font-weight: 300;
            max-width: 700px;
            margin: 0 auto 3rem auto;
        }

        .btn-download {
            display: inline-block;
            background-color: var(--accent);
            color: var(--bg-white);
            padding: 1rem 3rem;
            font-size: 1.1rem;
            text-decoration: none;
            border-radius: 4px;
            transition: all 0.3s ease;
        }

        .btn-download:hover {
            background-color: var(--accent-light);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(44, 62, 80, 0.2);
        }

        .license-info {
            margin-top: 1rem;
            font-size: 0.85rem;
            color: #888;
        }

        /* Contador de descargas */
        .download-counter {
            margin-top: 1.2rem;
            margin-bottom: 0.5rem;
            font-size: 0.95rem;
            color: var(--text-secondary);
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            padding: 0.6rem 1.2rem;
            border-radius: 50px;
            border: 1px solid var(--border);
            animation: fadeInUp 0.5s ease-out;
        }

        .download-counter .counter-icon {
            font-size: 1.1rem;
        }

        .download-counter strong {
            color: var(--accent);
            font-weight: 600;
        }

        /* Trial Highlight */
        .trial-highlight {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            color: #6c757d;
            padding: 0.6rem 1.2rem;
            border-radius: 50px;
            display: block;
            width: fit-content;
            margin: 0.8rem auto 0.3rem auto;
            font-size: 0.9rem;
            animation: fadeInUp 0.6s ease-out 0.2s both;
        }

        .trial-highlight .highlight-icon {
            font-size: 1rem;
            color: #495057;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Navigation */
        nav {
            margin-top: 1.5rem;
        }
        
        nav a {
            color: var(--text-secondary);
            text-decoration: none;
            margin: 0 1rem;
            font-size: 0.95rem;
            transition: color 0.3s;
            cursor: pointer;
        }
        
        nav a:hover {
            color: var(--accent);
            text-decoration: underline;
        }

        /* Requirements Grid */
        .req-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin-top: 3rem;
            text-align: left;
        }

        .req-card {
            background: #f8f9fa;
            padding: 2rem;
            border-radius: 8px;
            border-left: 4px solid var(--accent);
        }

        .req-card h4 {
            font-family: 'Playfair Display', serif;
            font-size: 1.2rem;
            margin-bottom: 1rem;
            color: var(--accent);
        }

        .req-card ul {
            list-style-type: none;
            font-size: 0.95rem;
        }

        .req-card li {
            margin-bottom: 0.5rem;
            padding-left: 1.5em;
            position: relative;
        }

        .req-card li::before {
            content: "‚Ä¢";
            color: var(--accent);
            position: absolute;
            left: 0;
            font-weight: bold;
        }

        /* Final CTA */
        .final-cta {
            background-color: var(--accent);
            color: white;
            text-align: center;
            padding: 5rem 0;
            margin-top: 4rem;
        }

        .final-cta h2 {
            color: white;
            margin-bottom: 1rem;
        }
        
        .final-cta .btn-download {
            background-color: white;
            color: var(--accent);
            margin-top: 2rem;
            font-weight: 600;
        }
        
        .final-cta .btn-download:hover {
            background-color: #f0f0f0;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        /* --- Content Sections --- */
        .section {
            padding: 6rem 0;
            border-bottom: 1px solid rgba(0,0,0,0.05);
        }

        .section:nth-child(even) {
            background-color: var(--bg-white);
        }

        .split-layout {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 4rem;
            align-items: center;
        }

        .text-block h3 {
            font-size: 2rem;
            margin-bottom: 1.5rem;
            position: relative;
        }

        /* La l√≠nea animada se define m√°s abajo en la secci√≥n de animaciones */

        .text-block p {
            font-size: 1.05rem;
            color: var(--text-secondary);
            margin-bottom: 1rem;
        }

        .image-block {
            position: relative;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            border: 1px solid rgba(0,0,0,0.05);
            background-color: var(--white);
        }

        .image-block img {
            width: 100%;
            height: auto;
            display: block;
            transition: transform 0.5s ease;
        }

        .image-block:not(.panoramic) img:hover {
            transform: scale(1.02);
        }

        /* Efecto Panor√°mico para im√°genes anchas */
        .panoramic {
            height: 300px;
            display: flex;
            align-items: center;
            justify-content: flex-start;
        }

        .panoramic img {
            width: auto;
            height: 100%;
            max-width: none;
            animation: panRight 15s linear infinite alternate;
        }

        @keyframes panRight {
            0% { transform: translateX(0); }
            100% { transform: translateX(calc(-100% + 500px)); }
        }
        
        @media (max-width: 768px) {
             .panoramic { height: 200px; }
             @keyframes panRight {
                0% { transform: translateX(0); }
                100% { transform: translateX(calc(-100% + 300px)); }
            }
        }

        /* Reverse layout for alternate sections */
        .section.reverse .split-layout {
            direction: rtl;
        }
        .section.reverse .split-layout > * {
            direction: ltr;
        }

        /* --- Secci√≥n Activaci√≥n (oculta por defecto) --- */
        .section-activacion {
            display: none;
            padding: 4rem 0;
            background-color: var(--bg-white);
            border-bottom: 1px solid rgba(0,0,0,0.05);
        }

        .section-activacion.visible {
            display: block;
        }

        .section-activacion h2 {
            text-align: center;
            margin-bottom: 0.5rem;
        }

        .section-activacion .section-subtitle {
            text-align: center;
            color: var(--text-secondary);
            margin-bottom: 2.5rem;
        }

        .form-wrapper {
            max-width: 550px;
            margin: 0 auto;
            background: var(--bg-body);
            border-radius: 8px;
            border: 1px solid var(--border);
            padding: 2rem;
        }

        .field {
            margin-bottom: 1.25rem;
        }

        .field label {
            display: block;
            font-weight: 500;
            margin-bottom: 0.4rem;
            color: var(--text-primary);
            font-size: 0.9rem;
        }

        .field input {
            width: 100%;
            padding: 0.75rem 1rem;
            border: 2px solid var(--border);
            border-radius: 6px;
            font-size: 1rem;
            font-family: 'Inter', sans-serif;
            transition: border-color 0.2s, box-shadow 0.2s;
        }

        .field input:focus {
            outline: none;
            border-color: var(--accent);
            box-shadow: 0 0 0 3px rgba(44, 62, 80, 0.1);
        }

        .field input[readonly] {
            background-color: #fff;
            color: var(--text-secondary);
            cursor: default;
        }

        .field.hw-id input {
            font-family: 'Consolas', 'Courier New', monospace;
            font-size: 0.9rem;
            letter-spacing: 0.5px;
            background-color: #fef9e7;
            border-color: #f4d03f;
        }

        .field small {
            display: block;
            margin-top: 0.3rem;
            color: #888;
            font-size: 0.8rem;
        }

        .btn-submit {
            display: inline-block;
            width: 100%;
            padding: 0.9rem 2rem;
            background-color: var(--accent);
            color: var(--bg-white);
            border: none;
            border-radius: 4px;
            font-size: 1rem;
            font-weight: 500;
            font-family: 'Inter', sans-serif;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 0.5rem;
        }

        .btn-submit:hover {
            background-color: var(--accent-light);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(44, 62, 80, 0.2);
        }

        .info-box {
            margin-top: 1.5rem;
            padding: 1rem 1.25rem;
            background: #fff;
            border-left: 4px solid var(--accent);
            border-radius: 4px;
            font-size: 0.85rem;
            color: var(--text-secondary);
        }

        .info-box strong {
            display: block;
            margin-bottom: 0.4rem;
            color: var(--text-primary);
        }

        .info-box ol {
            margin: 0.4rem 0 0 1.1rem;
            padding: 0;
        }

        .info-box li {
            margin-bottom: 0.2rem;
        }

        /* Caja de precio */
        .price-box {
            background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
            color: white;
            padding: 1rem 1.5rem;
            border-radius: 10px;
            text-align: center;
            margin-bottom: 1.5rem;
        }

        .price-label {
            display: block;
            font-size: 0.9rem;
            opacity: 0.9;
            margin-bottom: 0.3rem;
        }

        .price-amount {
            display: block;
            font-size: 2.2rem;
            font-weight: 700;
            letter-spacing: -1px;
            margin: 0.2rem 0;
        }

        .price-iva {
            display: block;
            font-size: 0.8rem;
            opacity: 0.7;
            margin-top: 0.2rem;
        }

        /* Bot√≥n de pago */
        .btn-pay {
            background: linear-gradient(135deg, #27ae60 0%, #2ecc71 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            font-size: 1.1rem;
            padding: 1rem 2rem;
        }

        .btn-pay:hover {
            background: linear-gradient(135deg, #219a52 0%, #27ae60 100%);
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(39, 174, 96, 0.3);
        }

        .btn-icon {
            font-size: 1.2rem;
        }

        /* Info de pago */
        .payment-info {
            text-align: center;
            margin-top: 1rem;
            padding: 1rem;
            background: #f8f9fa;
            border-radius: 8px;
        }

        .payment-methods {
            font-size: 0.9rem;
            color: #666;
            margin-bottom: 0.3rem;
        }

        .payment-methods strong {
            color: #635bff;
            font-weight: 600;
        }

        .payment-cards {
            font-size: 0.8rem;
            color: #999;
        }

        /* Mensaje de √©xito */
        .success-message {
            display: none;
            text-align: center;
            padding: 2rem;
        }

        .success-message .icon {
            font-size: 3rem;
            color: #27ae60;
            margin-bottom: 0.5rem;
        }

        .success-message h3 {
            color: #27ae60;
            margin-bottom: 0.5rem;
            font-size: 1.3rem;
        }

        .success-message p {
            color: var(--text-secondary);
            margin-bottom: 0.3rem;
            font-size: 0.95rem;
        }

        /* --- Footer --- */
        footer {
            background-color: var(--accent);
            color: rgba(255,255,255,0.8);
            padding: 3rem 0;
            text-align: center;
        }

        /* Bot√≥n Volver Arriba */
        .btn-top {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 50px;
            height: 50px;
            background-color: var(--accent);
            color: white;
            border: none;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
            z-index: 1000;
        }

        .btn-top:hover {
            background-color: var(--accent-light);
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.25);
        }

        .btn-top.visible {
            opacity: 1;
            visibility: visible;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .split-layout {
                grid-template-columns: 1fr;
                gap: 3rem;
            }
            .section.reverse .split-layout {
                direction: ltr;
            }
            .logo { font-size: 2.2rem; }
            .form-wrapper { padding: 1.5rem; }
            .smartscreen-notice > div[style*="grid-template-columns: repeat(2"] {
                grid-template-columns: 1fr !important;
            }
            .smartscreen-notice div[style*="height: 280px"] {
                height: 220px !important;
            }
        }

        /* ========================================
           NAVEGACI√ìN LATERAL CON TEXTO
           ======================================== */
        
        /* Contenedor de navegaci√≥n */
        .nav-dots {
            position: fixed;
            left: 25px;
            top: 50%;
            transform: translateY(-50%);
            z-index: 1000;
            display: flex;
            flex-direction: column;
            gap: 6px;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.4s ease, visibility 0.4s ease;
        }

        .nav-dots.visible {
            opacity: 1;
            visibility: visible;
        }

        /* Cada item de navegaci√≥n */
        .nav-item {
            font-size: 0.75rem;
            font-weight: 500;
            color: #999;
            text-decoration: none;
            cursor: pointer;
            padding: 4px 0;
            padding-left: 12px;
            border-left: 2px solid #ddd;
            transition: all 0.3s ease;
            filter: blur(1.5px);
            opacity: 0.5;
            white-space: nowrap;
        }

        .nav-item:hover {
            color: var(--accent);
            filter: blur(0);
            opacity: 1;
            border-left-color: var(--accent-light);
            text-decoration: none;
        }

        /* Estado activo */
        .nav-item.active {
            color: var(--accent);
            font-weight: 600;
            font-size: 0.8rem;
            filter: blur(0);
            opacity: 1;
            border-left: 3px solid var(--accent);
            padding-left: 11px;
        }

        /* Items cercanos al activo (menos blur) */
        .nav-item.near {
            filter: blur(0.5px);
            opacity: 0.7;
        }

        /* Ocultar en m√≥vil y tablets */
        @media (max-width: 1100px) {
            .nav-dots {
                display: none !important;
            }
        }

        /* ========================================
           ANIMACIONES SCROLL REVEAL
           ======================================== */
        
        .reveal {
            opacity: 0;
            transform: translateY(40px);
            transition: opacity 0.8s ease, transform 0.8s ease;
        }

        .reveal.visible {
            opacity: 1;
            transform: translateY(0);
        }

        /* Variantes de animaci√≥n */
        .reveal-left {
            opacity: 0;
            transform: translateX(-40px);
            transition: opacity 0.8s ease, transform 0.8s ease;
        }

        .reveal-left.visible {
            opacity: 1;
            transform: translateX(0);
        }

        .reveal-right {
            opacity: 0;
            transform: translateX(40px);
            transition: opacity 0.8s ease, transform 0.8s ease;
        }

        .reveal-right.visible {
            opacity: 1;
            transform: translateX(0);
        }

        /* Delay para elementos en secuencia */
        .reveal-delay-1 { transition-delay: 0.1s; }
        .reveal-delay-2 { transition-delay: 0.2s; }
        .reveal-delay-3 { transition-delay: 0.3s; }

        /* ========================================
           EFECTO PARALLAX EN IM√ÅGENES
           ======================================== */
        
        .parallax-container {
            overflow: hidden;
            position: relative;
        }

        .parallax-img {
            transition: transform 0.1s ease-out;
            will-change: transform;
        }

        /* Desactivar parallax en m√≥vil para mejor rendimiento */
        @media (max-width: 768px) {
            .reveal, .reveal-left, .reveal-right {
                opacity: 1;
                transform: none;
            }
            .parallax-img {
                transform: none !important;
            }
        }

        /* ========================================
           L√çNEAS QUE SE DIBUJAN (h3)
           ======================================== */
        
        .text-block h3::after {
            content: '';
            display: block;
            width: 0;
            height: 3px;
            background-color: var(--accent);
            margin-top: 1rem;
            transition: width 0.8s ease;
        }

        .text-block.visible h3::after {
            width: 60px;
        }

        /* ========================================
           SOMBRAS DIN√ÅMICAS EN IM√ÅGENES
           ======================================== */
        
        .image-block {
            transition: box-shadow 0.3s ease;
        }

        .dynamic-shadow-light {
            box-shadow: 0 10px 40px rgba(0,0,0,0.08);
        }

        .dynamic-shadow-medium {
            box-shadow: 0 20px 50px rgba(0,0,0,0.12);
        }

        .dynamic-shadow-deep {
            box-shadow: 0 30px 60px rgba(0,0,0,0.18);
        }

        /* ========================================
           N√öMEROS DECORATIVOS DE SECCI√ìN
           ======================================== */
        
        .section {
            position: relative;
            overflow: hidden;
        }

        .section-number {
            position: absolute;
            top: 50%;
            right: -20px;
            transform: translateY(-50%);
            font-family: 'Playfair Display', serif;
            font-size: clamp(150px, 20vw, 280px);
            font-weight: 700;
            color: rgba(0, 0, 0, 0.02);
            line-height: 1;
            pointer-events: none;
            user-select: none;
            z-index: 0;
        }

        .section.reverse .section-number {
            right: auto;
            left: -20px;
        }

        .section > .container {
            position: relative;
            z-index: 1;
        }

        /* ========================================
           SEPARADORES ANIMADOS ENTRE SECCIONES
           ======================================== */
        
        .section-divider {
            width: 100%;
            height: 1px;
            background: transparent;
            position: relative;
            overflow: hidden;
        }

        .section-divider::before {
            content: '';
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 1px;
            background: linear-gradient(90deg, transparent, var(--border), transparent);
            transition: width 1s ease;
        }

        .section-divider.visible::before {
            width: 80%;
        }

        /* Ocultar n√∫meros en m√≥vil */
        @media (max-width: 768px) {
            .section-number {
                display: none;
            }
        }

        /* ========================================
           T√çTULOS CON PESO DIN√ÅMICO
           ======================================== */
        
        .text-block h3 {
            font-variation-settings: 'wght' 400;
            transition: font-variation-settings 0.3s ease;
        }

        /* Fallback para fuentes sin variable font */
        @supports not (font-variation-settings: 'wght' 400) {
            .text-block h3 {
                font-weight: 400;
                transition: font-weight 0.3s ease;
            }
            .text-block h3.weight-bold {
                font-weight: 700;
            }
        }
    </style>
</head>
<body>

    <!-- Navegaci√≥n Lateral con Texto -->
    <nav class="nav-dots" id="navDots">
        <a class="nav-item" data-target="caracteristicas">Interfaz</a>
        <a class="nav-item" data-target="sec-partes">Partes</a>
        <a class="nav-item" data-target="sec-argumentos">Argumentos</a>
        <a class="nav-item" data-target="sec-biblioteca">Biblioteca</a>
        <a class="nav-item" data-target="sec-hechos">Hechos</a>
        <a class="nav-item" data-target="sec-penas">Penas</a>
        <a class="nav-item" data-target="sec-config">Configuraci√≥n</a>
        <a class="nav-item" data-target="sec-dictado">Dictado</a>
        <a class="nav-item" data-target="sec-herramientas-ia">Herramientas IA</a>
        <a class="nav-item" data-target="sec-analisis-ia">An√°lisis IA</a>
        <a class="nav-item" data-target="sec-cambios">Cambios</a>
        <a class="nav-item" data-target="sec-estadisticas">Estad√≠sticas</a>
        <a class="nav-item" data-target="sec-borradores">Seguridad</a>
    </nav>

    <header id="inicio">
        <div class="container">
            <h1 class="logo">Procesador de Delitos Leves</h1>
            <nav>
                <a href="#caracteristicas">Caracter√≠sticas</a>
                <a href="#requisitos">Requisitos e Instalaci√≥n</a>
                <a href="#descarga" style="font-weight: bold;">Descargar</a>
                <a id="nav-activacion">Comprar Licencia</a>
            </nav>
            <br><br>
            <p class="subtitle">Una soluci√≥n tecnol√≥gica integral dise√±ada para optimizar la redacci√≥n de sentencias por delitos leves.</p>
            <a href="https://github.com/xvi82/delitos-leves/releases/download/app/Procesador.de.Delitos.Leves.zip" class="btn-download">Descargar y Probar Gratis</a>
            <div class="trial-highlight">
                <span class="highlight-icon">‚ö°</span>
                <span class="highlight-text">5 d√≠as gratis ‚Ä¢ Sin compromiso ‚Ä¢ Funcionalidad completa</span>
            </div>
            <p class="download-counter" id="downloadCounter" style="display: none;">
                <span class="counter-icon">üì•</span>
                <span class="counter-text">M√°s de <strong id="downloadCount">0</strong> descargas</span>
            </p>
            <p class="license-info">* Despu√©s del per√≠odo de prueba requiere activaci√≥n mediante licencia √∫nica.</p>
        </div>
    </header>

    <!-- Secci√≥n Activaci√≥n / Compra de Licencia (oculta por defecto) -->
    <section class="section-activacion" id="activacion">
        <div class="container">
            <h2>Adquirir Licencia Permanente</h2>
            <p class="section-subtitle">Complete el formulario para proceder al pago seguro</p>

            <div class="form-wrapper">
                <!-- Precio destacado -->
                <div class="price-box">
                    <span class="price-label">Licencia permanente</span>
                    <span class="price-amount">300 ‚Ç¨</span>
                    <span class="price-iva">IVA incluido</span>
                </div>

                <form id="activation-form" action="https://web-production-d6fd5.up.railway.app/crear-sesion-pago" method="POST">
                    
                    <div class="field">
                        <label for="nombre">Nombre completo</label>
                        <input type="text" id="nombre" name="nombre" placeholder="Introduzca su nombre completo" required>
                        <small id="nombre-hint">‚ö†Ô∏è Debe coincidir exactamente con el introducido en la aplicaci√≥n</small>
                    </div>

                    <div class="field">
                        <label for="destino">Destino judicial <span style="color: #999; font-weight: normal;">(informativo)</span></label>
                        <input type="text" id="destino" name="destino_info" placeholder="Ej: Juzgado de Instrucci√≥n N¬∫ 1 de Madrid" readonly>
                    </div>

                    <div class="field hw-id">
                        <label for="hw_id">ID de Hardware</label>
                        <input type="text" id="hw_id" name="hw_id" placeholder="Consulte este dato en la aplicaci√≥n" required>
                        <small>Identificador √∫nico de su equipo (visible en la ventana de activaci√≥n)</small>
                    </div>

                    <div class="field">
                        <label for="email">Correo electr√≥nico</label>
                        <input type="email" id="email" name="email" placeholder="Recibir√° aqu√≠ su c√≥digo de licencia" required>
                        <small>A este correo se enviar√° su c√≥digo de activaci√≥n tras el pago</small>
                    </div>

                    <!-- Campos ocultos para compatibilidad -->
                    <input type="hidden" id="juzgado" name="juzgado">
                    <input type="hidden" id="numero" name="numero">
                    <input type="hidden" id="partido" name="partido">

                    <button type="submit" class="btn-submit btn-pay">
                        <span class="btn-icon">üí≥</span>
                        Proceder al Pago Seguro
                    </button>

                    <div class="payment-info">
                        <div class="payment-methods">
                            <span>üîí Pago seguro con</span>
                            <strong>Stripe</strong>
                        </div>
                        <div class="payment-cards">
                            Visa ¬∑ Mastercard ¬∑ American Express
                        </div>
                    </div>

                    <div class="info-box">
                        <strong>Proceso de compra</strong>
                        <ol>
                            <li>Complete los datos y haga clic en "Proceder al Pago Seguro".</li>
                            <li>Ser√° redirigido a la pasarela segura de Stripe para introducir su tarjeta.</li>
                            <li>Una vez confirmado el pago, recibir√° autom√°ticamente su c√≥digo de activaci√≥n por email.</li>
                            <li>Introduzca el c√≥digo en la aplicaci√≥n para activar su licencia.</li>
                        </ol>
                    </div>
                </form>
            </div>
        </div>
    </section>

    <!-- Secci√≥n 1: Interfaz Principal -->
    <section class="section" id="caracteristicas">
        <div class="container">
            <div class="split-layout">
                <div class="text-block">
                    <h3>Entorno de trabajo optimizado</h3>
                    <p>La interfaz principal ha sido dise√±ada para minimizar las distracciones y maximizar la eficiencia.</p>
                    <p>Todos los campos necesarios para la estructuraci√≥n de la sentencia est√°n accesibles en una sola vista, permitiendo un flujo de trabajo lineal y l√≥gico, desde los antecedentes de hecho hasta el fallo.</p>
                </div>
                <div class="image-block">
                    <img src="img/interfaz_principal.png" alt="Interfaz Principal de la Aplicaci√≥n">
                </div>
            </div>
        </div>
    </section>

    <!-- Secci√≥n 2: Gesti√≥n de Partes -->
    <section class="section reverse" id="sec-partes">
        <div class="container">
            <div class="split-layout">
                <div class="text-block">
                    <h3>Gesti√≥n flexible de partes</h3>
                    <p>Adapte cada sentencia a la realidad del caso. El sistema permite gestionar m√∫ltiples intervinientes, diferenciando claramente entre denunciantes y denunciados.</p>
                    <p>La herramienta ajusta autom√°ticamente la concordancia gramatical y la estructura del texto legal seg√∫n los sujetos introducidos, ahorrando tiempo en revisiones formales.</p>
                </div>
                <div class="image-block">
                    <img src="img/partes.png" alt="Gesti√≥n de Denunciantes y Denunciados">
                </div>
            </div>
        </div>
    </section>

    <!-- Secci√≥n 3: Repositorio de Argumentos -->
    <section class="section" id="sec-argumentos">
        <div class="container">
            <div class="split-layout">
                <div class="text-block">
                    <h3>Repositorio jur√≠dico inteligente</h3>
                    <p>Acceda a una base de conocimientos predefinida y personalizable. Seleccione argumentos jur√≠dicos estandarizados para absoluciones, condenas o cuestiones procesales con un solo clic.</p>
                    <p>Esta funcionalidad garantiza la consistencia legal de sus resoluciones y agiliza dr√°sticamente la redacci√≥n de los fundamentos de derecho.</p>
                </div>
                <div class="image-block">
                    <img src="img/argumentos.png" alt="Repositorio de Argumentos Jur√≠dicos">
                </div>
            </div>
        </div>
    </section>

    <!-- Secci√≥n Nueva: Biblioteca Comunitaria -->
    <section class="section reverse" id="sec-biblioteca">
        <div class="container">
            <div class="split-layout">
                <div class="text-block">
                    <h3>Biblioteca comunitaria de argumentos</h3>
                    <p>Ampl√≠e su repertorio jur√≠dico con argumentos compartidos por otros usuarios. La biblioteca comunitaria le permite explorar, buscar y descargar razonamientos jur√≠dicos clasificados por categor√≠as.</p>
                    <p>Filtre por tipo de argumento (atenuantes, agravantes, responsabilidad civil, procedimiento...) y enriquezca su repositorio personal con las aportaciones de la comunidad. Tambi√©n puede contribuir publicando sus propios argumentos para ayudar a otros usuarios.</p>
                    <p style="font-size: 0.9rem; color: #888; margin-top: 0.5rem;">* Requiere conexi√≥n a Internet para acceder a la biblioteca.</p>
                </div>
                <div class="image-block">
                    <img src="img/biblioteca comunitaria.png" alt="Biblioteca Comunitaria de Argumentos Jur√≠dicos">
                </div>
            </div>
        </div>
    </section>

    <!-- Secci√≥n Nueva 1: Hechos Probados Din√°micos -->
    <section class="section" id="sec-hechos">
        <div class="container">
            <div class="split-layout">
                <div class="text-block">
                    <h3>Redacci√≥n din√°mica de hechos</h3>
                    <p>La herramienta ofrece flexibilidad total en la estructuraci√≥n de la sentencia. Puede optar por un relato de hechos √∫nico o desglosarlo en apartados numerados ("Primero", "Segundo", "Tercero") para casos complejos.</p>
                    <p>Esta versatilidad permite mantener el rigor expositivo sin importar la complejidad del litigio, adaptando la interfaz autom√°ticamente a sus necesidades.</p>
                </div>
                <div class="image-block panoramic">
                    <img src="img/hechos_probados.png" alt="Redacci√≥n de Hechos Probados con M√∫ltiples Apartados">
                </div>
            </div>
        </div>
    </section>

    <!-- Secci√≥n Nueva 2: C√°lculo y Alerta de Penas -->
    <section class="section reverse" id="sec-penas">
        <div class="container">
            <div class="split-layout">
                <div class="text-block">
                    <h3>Control inteligente de penas</h3>
                    <p>El asistente de penas no solo calcula, sino que previene errores materiales. El sistema destaca visualmente (en rojo) las incongruencias o advertencias cr√≠ticas al seleccionar tipos de condena como multas o trabajos comunitarios.</p>
                    <p>Esta validaci√≥n en tiempo real act√∫a como un segundo par de ojos, asegurando que el fallo cumpla con los requisitos legales antes de su redacci√≥n final.</p>
                </div>
                <div class="image-block">
                    <img src="img/calculo_penas.png" alt="Alerta Visual en C√°lculo de Penas">
                </div>
            </div>
        </div>
    </section>

    <!-- Secci√≥n 4: Configuraci√≥n -->
    <section class="section" id="sec-config">
        <div class="container">
            <div class="split-layout">
                <div class="text-block">
                    <h3>Personalizaci√≥n y control</h3>
                    <p>Configure los par√°metros de su juzgado, su firma y sus preferencias visuales.</p>
                    <p>La aplicaci√≥n se adapta a su identidad judicial, manteniendo sus datos seguros y accesibles para la generaci√≥n autom√°tica de encabezados y pies de firma.</p>
                </div>
                <div class="image-block">
                    <img src="img/configuracion.png" alt="Panel de Configuraci√≥n">
                </div>
            </div>
        </div>
    </section>

    <!-- Secci√≥n 5: Dictado por Voz -->
    <section class="section reverse" id="sec-dictado">
        <div class="container">
            <div class="split-layout">
                <div class="text-block">
                    <h3>Dictado por voz integrado</h3>
                    <p>Redacte sin tocar el teclado. La aplicaci√≥n incorpora reconocimiento de voz que transcribe autom√°ticamente sus palabras en tiempo real.</p>
                    <p>Active el micr√≥fono con un solo clic y dicte directamente los hechos probados, notas o cualquier campo de texto. Ideal para agilizar la redacci√≥n durante las vistas orales o cuando prefiera expresarse verbalmente.</p>
                    <p style="font-size: 0.9rem; color: #888; margin-top: 0.5rem;">* Requiere conexi√≥n a Internet para el reconocimiento de voz.</p>
                </div>
                <div class="image-block">
                    <img src="img/dictado por voz.png" alt="Dictado por Voz con Reconocimiento Autom√°tico">
                </div>
            </div>
        </div>
    </section>

    <!-- Secci√≥n 6: Herramientas de IA en Texto -->
    <section class="section" id="sec-herramientas-ia">
        <div class="container">
            <div class="split-layout">
                <div class="text-block">
                    <h3>Asistencia inteligente en cada campo</h3>
                    <p>Cada campo de texto de la aplicaci√≥n incorpora tres herramientas de IA accesibles con un solo clic, dise√±adas para acelerar y mejorar su redacci√≥n:</p>
                    <p><strong><span style="font-family: Georgia, serif; font-size: 1.1em; color: #555;">Aa</span> Correcci√≥n ortogr√°fica:</strong> Revisa y corrige autom√°ticamente errores ortogr√°ficos y gramaticales, manteniendo el estilo y estructura original del texto.</p>
                    <p><strong>‚ú® Reescritura jur√≠dica:</strong> Transforma su texto en un lenguaje t√©cnico-jur√≠dico apropiado, adapt√°ndose al contexto (hechos probados o fundamentos de derecho).</p>
                    <p><strong>üîó Revisi√≥n de coherencia:</strong> Analiza el texto en busca de inconsistencias, contradicciones o problemas de estructura l√≥gica.</p>
                    <p style="font-size: 0.9rem; color: #888; margin-top: 0.5rem;">* Requiere API Key de OpenAI o Google Gemini y conexi√≥n a Internet.</p>
                </div>
                <div class="image-block" style="display: flex; align-items: center; justify-content: center; background: linear-gradient(135deg, #f8f9fa 0%, #ffffff 100%); min-height: 200px;">
                    <img src="img/herramientas IA.png" alt="Iconos de Herramientas de IA: Correcci√≥n, Reescritura y Revisi√≥n" style="transform: scale(0.7);">
                </div>
            </div>
        </div>
    </section>

    <!-- Secci√≥n 7: Asistente de IA -->
    <section class="section reverse" id="sec-analisis-ia">
        <div class="container">
            <div class="split-layout">
                <div class="text-block">
                    <h3>An√°lisis jur√≠dico con inteligencia artificial</h3>
                    <p>Obtenga un an√°lisis automatizado de los hechos probados. El asistente de IA examina la subsunci√≥n de los hechos en el tipo delictivo seleccionado, citando la doctrina y jurisprudencia relevante incluida en la aplicaci√≥n.</p>
                    <p>Compatible con los modelos GPT-4 de OpenAI y Gemini de Google, permite elegir entre an√°lisis breve, normal o detallado seg√∫n sus necesidades.</p>
                    <p style="font-size: 0.9rem; color: #888; margin-top: 0.5rem;">* Requiere API Key propia de OpenAI o Google Gemini.</p>
                </div>
                <div class="image-block">
                    <img src="img/informe IA.png" alt="An√°lisis Jur√≠dico con Inteligencia Artificial">
                </div>
            </div>
        </div>
    </section>

    <!-- Secci√≥n 8: Resaltado de Cambios -->
    <section class="section" id="sec-cambios">
        <div class="container">
            <div class="split-layout">
                <div class="text-block">
                    <h3>Visualizaci√≥n de cambios en tiempo real</h3>
                    <p>Cada modificaci√≥n que realice se resalta brevemente con un fondo amarillo que se desvanece gradualmente. Este sistema visual le permite identificar inmediatamente qu√© partes del texto de la sentencia han cambiado.</p>
                    <p>Una herramienta sutil pero poderosa para mantener el control sobre sus ediciones, facilitando la revisi√≥n y el control de calidad antes de generar el documento final.</p>
                </div>
                <div class="image-block">
                    <img src="img/control de cambios.png" alt="Resaltado Visual de Cambios en Tiempo Real">
                </div>
            </div>
        </div>
    </section>

    <!-- Secci√≥n 9: Estad√≠sticas de Uso -->
    <section class="section reverse" id="sec-estadisticas">
        <div class="container">
            <div class="split-layout">
                <div class="text-block">
                    <h3>Estad√≠sticas de tu actividad judicial</h3>
                    <p>Conoce tu rendimiento con un panel de estad√≠sticas completo. La aplicaci√≥n registra autom√°ticamente informaci√≥n sobre tu trabajo:</p>
                    <p><strong>üìä Eficiencia:</strong> Tiempo promedio por sentencia, sentencia m√°s r√°pida y m√°s larga, para identificar tu ritmo de trabajo.</p>
                    <p><strong>üí∞ Econ√≥micas:</strong> Media de multas e indemnizaciones impuestas en tus resoluciones.</p>
                    <p><strong>üìã Tipo de proceso:</strong> Distribuci√≥n entre denuncias simples, cruzadas, sentencias escritas u orales, y presencia de abogado.</p>
                    <p><strong>‚öñÔ∏è Delitos frecuentes:</strong> Ranking de los tipos delictivos m√°s habituales en tu juzgado.</p>
                    <p style="font-size: 0.9rem; color: #888; margin-top: 0.5rem;">Los datos se almacenan localmente en tu equipo y no se comparten con terceros.</p>
                </div>
                <div class="image-block">
                    <img src="img/estadistica.png" alt="Panel de Estad√≠sticas de Uso">
                </div>
            </div>
        </div>
    </section>

    <!-- Secci√≥n Nueva: Borradores Protegidos -->
    <section class="section" id="sec-borradores">
        <div class="container">
            <div class="split-layout">
                <div class="text-block">
                    <h3>Borradores protegidos con contrase√±a</h3>
                    <p>Proteja sus sentencias m√°s sensibles con cifrado de nivel profesional. La aplicaci√≥n permite guardar borradores cifrados con contrase√±a personal, a√±adiendo una capa extra de confidencialidad.</p>
                    <p><strong>üîê Cifrado seguro:</strong> Utiliza el est√°ndar Fernet (AES-128-CBC) con derivaci√≥n de clave PBKDF2, siguiendo las recomendaciones de seguridad OWASP.</p>
                    <p><strong>üìÅ Formato exclusivo:</strong> Los borradores protegidos se guardan con extensi√≥n <code>.pdlx</code> y solo pueden abrirse con la contrase√±a correcta.</p>
                    <p><strong>üõ°Ô∏è Privacidad total:</strong> Ni siquiera con acceso f√≠sico al archivo se puede leer el contenido sin la contrase√±a.</p>
                </div>
                <div class="image-block">
                    <img src="img/borrador protegido.png" alt="Borrador Protegido con Contrase√±a">
                </div>
            </div>
        </div>
    </section>

    <!-- Secci√≥n 10: Requisitos e Instalaci√≥n -->
    <section class="section" id="requisitos" style="background-color: white;">
        <div class="container">
            <h2 style="text-align: center; margin-bottom: 2rem;">Requisitos T√©cnicos e Instalaci√≥n</h2>
            <div class="req-grid">
                <div class="req-card">
                    <h4>Requisitos del Sistema</h4>
                    <ul>
                        <li>Sistema Operativo: Windows 10 o Windows 11 (64-bits).</li>
                        <li>Resoluci√≥n de pantalla: 1366x768 o superior.</li>
                        <li>Espacio en disco: 100 MB libres.</li>
                        <li>Permisos: No requiere permisos de administrador para ejecutarse.</li>
                    </ul>
                </div>
                <div class="req-card">
                    <h4>Gu√≠a de Instalaci√≥n</h4>
                    <ul>
                        <li>1. Descargue el archivo comprimido desde el bot√≥n de descarga.</li>
                        <li>2. Descomprima el archivo en una carpeta de su elecci√≥n (ej: Documentos).</li>
                        <li>3. Ejecute el archivo principal (.exe).</li>
                        <li>4. Siga las instrucciones en pantalla para la activaci√≥n de su licencia.</li>
                    </ul>
                </div>
            </div>

            <!-- Aviso SmartScreen -->
            <div class="smartscreen-notice" style="margin-top: 3rem; padding: 2rem; background: linear-gradient(135deg, #fff9e6 0%, #fff 100%); border-radius: 12px; border: 1px solid #f0d060;">
                <h3 style="display: flex; align-items: center; gap: 0.75rem; margin-bottom: 1.5rem; font-size: 1.4rem;">
                    <span style="font-size: 1.8rem;">üõ°Ô∏è</span>
                    Aviso de Windows SmartScreen
                </h3>
                <p style="color: var(--text-secondary); margin-bottom: 1.5rem;">
                    Al ejecutar la aplicaci√≥n por primera vez, es posible que Windows muestre un aviso de seguridad indicando que "Windows protegi√≥ su PC". 
                    <strong>Esto es completamente normal</strong> y ocurre con cualquier software descargado de Internet que no disponga de un certificado de firma de c√≥digo comercial.
                </p>
                
                <!-- Pesta√±as Windows 11 / Windows 10 -->
                <div class="os-tabs">
                    <button class="os-tab active" data-os="win11">
                        <span class="os-icon">‚äû</span> Windows 11
                    </button>
                    <button class="os-tab" data-os="win10">
                        <span class="os-icon">‚äû</span> Windows 10
                    </button>
                </div>

                <!-- Animaci√≥n interactiva SmartScreen - Windows 11 -->
                <div class="smartscreen-demo" id="demo-win11">
                    <div class="demo-container">
                        <!-- Imagen 1: No ejecutar -->
                        <div class="demo-slide" id="slide1-win11">
                            <img src="img/No ejecutar.png" alt="SmartScreen Windows 11 - Ventana inicial">
                            <!-- Cursor animado -->
                            <div class="cursor-container">
                                <svg class="cursor-icon" viewBox="0 0 24 24" width="28" height="28">
                                    <path fill="#000" stroke="#fff" stroke-width="1" d="M4,4 L4,20 L8.5,15.5 L12,22 L14,21 L10.5,14.5 L17,14.5 Z"/>
                                </svg>
                                <div class="click-ripple"></div>
                            </div>
                        </div>
                        <!-- Imagen 2: Ejecutar de todos modos -->
                        <div class="demo-slide" id="slide2-win11">
                            <img src="img/Ejecutados de todos modos.png" alt="SmartScreen Windows 11 - Ejecutar de todos modos">
                            <!-- Cursor animado -->
                            <div class="cursor-container cursor-step2">
                                <svg class="cursor-icon" viewBox="0 0 24 24" width="28" height="28">
                                    <path fill="#000" stroke="#fff" stroke-width="1" d="M4,4 L4,20 L8.5,15.5 L12,22 L14,21 L10.5,14.5 L17,14.5 Z"/>
                                </svg>
                                <div class="click-ripple"></div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Indicadores de paso -->
                    <div class="demo-steps">
                        <div class="step-indicator active" data-step="1">
                            <span class="step-num">1</span>
                            <span class="step-text">Clic en "M√°s informaci√≥n"</span>
                        </div>
                        <div class="step-arrow">‚Üí</div>
                        <div class="step-indicator" data-step="2">
                            <span class="step-num">2</span>
                            <span class="step-text">Clic en "Ejecutar de todos modos"</span>
                        </div>
                    </div>
                </div>

                <!-- Animaci√≥n interactiva SmartScreen - Windows 10 -->
                <div class="smartscreen-demo" id="demo-win10" style="display: none;">
                    <div class="demo-container">
                        <!-- Imagen 1: Ventana inicial Win10 (desmarcar checkbox) -->
                        <div class="demo-slide" id="slide1-win10">
                            <img src="img/ejecutar en win10.png" alt="SmartScreen Windows 10 - Desmarcar checkbox">
                            <!-- Cursor animado -->
                            <div class="cursor-container">
                                <svg class="cursor-icon" viewBox="0 0 24 24" width="28" height="28">
                                    <path fill="#000" stroke="#fff" stroke-width="1" d="M4,4 L4,20 L8.5,15.5 L12,22 L14,21 L10.5,14.5 L17,14.5 Z"/>
                                </svg>
                                <div class="click-ripple"></div>
                            </div>
                        </div>
                        <!-- Imagen 2: Bot√≥n Ejecutar Win10 -->
                        <div class="demo-slide" id="slide2-win10">
                            <img src="img/ejecutar de todos modos en win10.png" alt="SmartScreen Windows 10 - Bot√≥n Ejecutar">
                            <!-- Cursor animado -->
                            <div class="cursor-container cursor-step2">
                                <svg class="cursor-icon" viewBox="0 0 24 24" width="28" height="28">
                                    <path fill="#000" stroke="#fff" stroke-width="1" d="M4,4 L4,20 L8.5,15.5 L12,22 L14,21 L10.5,14.5 L17,14.5 Z"/>
                                </svg>
                                <div class="click-ripple"></div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Indicadores de paso -->
                    <div class="demo-steps">
                        <div class="step-indicator active" data-step="1">
                            <span class="step-num">1</span>
                            <span class="step-text">Clic en "Preguntar siempre..."</span>
                        </div>
                        <div class="step-arrow">‚Üí</div>
                        <div class="step-indicator" data-step="2">
                            <span class="step-num">2</span>
                            <span class="step-text">Clic en "Ejecutar"</span>
                        </div>
                    </div>
                </div>

                <style>
                    /* Pesta√±as de Sistema Operativo */
                    .os-tabs {
                        display: flex;
                        justify-content: center;
                        gap: 0.5rem;
                        margin-bottom: 1.5rem;
                    }
                    
                    .os-tab {
                        display: flex;
                        align-items: center;
                        gap: 0.5rem;
                        padding: 0.7rem 1.5rem;
                        background: #f5f5f5;
                        border: 2px solid transparent;
                        border-radius: 8px;
                        font-family: 'Inter', sans-serif;
                        font-size: 0.95rem;
                        font-weight: 500;
                        color: var(--text-secondary);
                        cursor: pointer;
                        transition: all 0.3s ease;
                    }
                    
                    .os-tab:hover {
                        background: #e8e8e8;
                    }
                    
                    .os-tab.active {
                        background: white;
                        border-color: var(--accent);
                        color: var(--accent);
                        box-shadow: 0 2px 8px rgba(44, 62, 80, 0.15);
                    }
                    
                    .os-icon {
                        font-size: 1.1rem;
                    }

                    .smartscreen-demo {
                        background: white;
                        border-radius: 12px;
                        padding: 1.5rem;
                        margin-bottom: 1.5rem;
                        box-shadow: 0 4px 20px rgba(0,0,0,0.08);
                    }
                    
                    .demo-container {
                        position: relative;
                        width: 100%;
                        max-width: 500px;
                        margin: 0 auto;
                        aspect-ratio: 4/3;
                        background: #ffffff;
                        border-radius: 8px;
                        overflow: hidden;
                        box-shadow: 0 8px 30px rgba(0,0,0,0.15);
                        border: 1px solid #e0e0e0;
                    }
                    
                    .demo-slide {
                        position: absolute;
                        top: 0;
                        left: 0;
                        width: 100%;
                        height: 100%;
                        opacity: 0;
                        transition: opacity 0.5s ease;
                    }
                    
                    .demo-slide.active {
                        opacity: 1;
                    }
                    
                    .demo-slide img {
                        width: 100%;
                        height: 100%;
                        object-fit: contain;
                    }
                    
                    /* Cursor animado */
                    .cursor-container {
                        position: absolute;
                        pointer-events: none;
                        z-index: 10;
                        /* Posici√≥n inicial fuera de vista */
                        top: 30%;
                        left: 20%;
                        opacity: 0;
                    }
                    
                    .cursor-icon {
                        filter: drop-shadow(2px 2px 2px rgba(0,0,0,0.3));
                        transform-origin: top left;
                    }
                    
                    .click-ripple {
                        position: absolute;
                        top: 0;
                        left: 0;
                        width: 30px;
                        height: 30px;
                        border-radius: 50%;
                        background: rgba(255, 200, 0, 0.6);
                        transform: scale(0);
                        opacity: 0;
                    }
                    
                    /* Animaci√≥n Paso 1: Cursor va a "M√°s informaci√≥n" - Windows 11 */
                    #slide1-win11 .cursor-container {
                        animation: cursor-move-step1-win11 3.2s ease-in-out infinite;
                    }
                    
                    #slide1-win11 .click-ripple {
                        animation: click-effect-step1 3.2s ease-in-out infinite;
                    }
                    
                    @keyframes cursor-move-step1-win11 {
                        0% { top: 50%; left: 50%; opacity: 0; }
                        15% { top: 50%; left: 50%; opacity: 1; }
                        50% { top: 26%; left: 22%; opacity: 1; }
                        90% { top: 26%; left: 22%; opacity: 1; }
                        100% { opacity: 0; }
                    }
                    
                    /* Animaci√≥n Paso 2: Cursor va a "Ejecutar de todos modos" - Windows 11 */
                    #slide2-win11 .cursor-container {
                        animation: cursor-move-step2-win11 3.2s ease-in-out infinite;
                    }
                    
                    #slide2-win11 .click-ripple {
                        animation: click-effect-step2 3.2s ease-in-out infinite;
                    }
                    
                    @keyframes cursor-move-step2-win11 {
                        0% { top: 30%; left: 30%; opacity: 0; }
                        15% { top: 30%; left: 30%; opacity: 1; }
                        50% { top: 88%; left: 55%; opacity: 1; }
                        90% { top: 88%; left: 55%; opacity: 1; }
                        100% { opacity: 0; }
                    }
                    
                    /* Efectos de click compartidos */
                    @keyframes click-effect-step1 {
                        0%, 50% { transform: scale(0); opacity: 0; }
                        70% { transform: scale(1.5); opacity: 0.8; }
                        90% { transform: scale(2); opacity: 0; }
                        100% { transform: scale(0); opacity: 0; }
                    }
                    
                    @keyframes click-effect-step2 {
                        0%, 50% { transform: scale(0); opacity: 0; }
                        70% { transform: scale(1.5); opacity: 0.8; }
                        90% { transform: scale(2); opacity: 0; }
                        100% { transform: scale(0); opacity: 0; }
                    }
                    
                    /* Animaci√≥n Paso 1: Cursor va al checkbox "Preguntar siempre..." - Windows 10 */
                    #slide1-win10 .cursor-container {
                        animation: cursor-move-step1-win10 3.2s ease-in-out infinite;
                    }
                    
                    #slide1-win10 .click-ripple {
                        animation: click-effect-step1 3.2s ease-in-out infinite;
                    }
                    
                    @keyframes cursor-move-step1-win10 {
                        0% { top: 50%; left: 50%; opacity: 0; }
                        15% { top: 50%; left: 50%; opacity: 1; }
                        50% { top: 70%; left: 4%; opacity: 1; }
                        90% { top: 70%; left: 4%; opacity: 1; }
                        100% { opacity: 0; }
                    }
                    
                    /* Animaci√≥n Paso 2: Cursor va al bot√≥n "Ejecutar" - Windows 10 */
                    #slide2-win10 .cursor-container {
                        animation: cursor-move-step2-win10 3.2s ease-in-out infinite;
                    }
                    
                    #slide2-win10 .click-ripple {
                        animation: click-effect-step2 3.2s ease-in-out infinite;
                    }
                    
                    @keyframes cursor-move-step2-win10 {
                        0% { top: 30%; left: 30%; opacity: 0; }
                        15% { top: 30%; left: 30%; opacity: 1; }
                        50% { top: 57%; left: 57%; opacity: 1; }
                        90% { top: 57%; left: 57%; opacity: 1; }
                        100% { opacity: 0; }
                    }
                    
                    /* Indicadores de paso */
                    .demo-steps {
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        gap: 1rem;
                        margin-top: 1.5rem;
                        flex-wrap: wrap;
                    }
                    
                    .step-indicator {
                        display: flex;
                        align-items: center;
                        gap: 0.5rem;
                        padding: 0.6rem 1rem;
                        background: #f5f5f5;
                        border-radius: 25px;
                        transition: all 0.3s ease;
                        opacity: 0.6;
                    }
                    
                    .step-indicator.active {
                        background: var(--accent);
                        color: white;
                        opacity: 1;
                        transform: scale(1.05);
                    }
                    
                    .step-num {
                        display: inline-flex;
                        align-items: center;
                        justify-content: center;
                        width: 22px;
                        height: 22px;
                        background: rgba(255,255,255,0.3);
                        border-radius: 50%;
                        font-size: 0.8rem;
                        font-weight: bold;
                    }
                    
                    .step-indicator.active .step-num {
                        background: rgba(255,255,255,0.3);
                    }
                    
                    .step-text {
                        font-size: 0.85rem;
                        font-weight: 500;
                    }
                    
                    .step-arrow {
                        color: var(--accent);
                        font-size: 1.2rem;
                        font-weight: bold;
                    }
                    
                    @media (max-width: 600px) {
                        .demo-container {
                            max-width: 100%;
                        }
                        .step-text {
                            display: none;
                        }
                        .step-indicator {
                            padding: 0.5rem 0.8rem;
                        }
                        .os-tab {
                            padding: 0.5rem 1rem;
                            font-size: 0.85rem;
                        }
                    }
                </style>

                <p style="font-size: 0.9rem; color: #666; background: white; padding: 1rem; border-radius: 6px; border-left: 3px solid var(--accent);">
                    <strong>¬øPor qu√© ocurre esto?</strong> Windows SmartScreen advierte sobre aplicaciones que no tienen un certificado de firma de c√≥digo comercial (con un coste de varios cientos de euros anuales). 
                    Este aviso desaparece autom√°ticamente en futuras ejecuciones. La aplicaci√≥n es completamente segura y no contiene software malicioso.
                </p>
            </div>
        </div>
    </section>

    <!-- Final CTA -->
    <section class="final-cta" id="descarga">
        <div class="container">
            <h2>Optimice su gesti√≥n judicial hoy mismo</h2>
            <p style="color: rgba(255,255,255,0.9); max-width: 600px; margin: 0 auto;">√önase a los profesionales que ya han modernizado su flujo de trabajo con una herramienta dise√±ada a medida para sus necesidades.</p>
            <a href="https://github.com/xvi82/delitos-leves/releases/download/app/Procesador.de.Delitos.Leves.zip" class="btn-download">Descargar Ahora</a>
            <p class="license-info" style="color: rgba(255,255,255,0.6); margin-top: 1rem;">* Descarga segura desde GitHub</p>
        </div>
    </section>

    <footer>
        <div class="container">
            <p>&copy; 2024 Procesador de Delitos Leves. Todos los derechos reservados.</p>
            <p style="font-size: 0.8rem; margin-top: 0.5rem;">Desarrollado para el entorno Windows.</p>
        </div>
    </footer>

    <!-- Bot√≥n Volver Arriba -->
    <button class="btn-top" id="btnTop" title="Volver al inicio">‚Üë</button>

    <script>
        // =============================================
        // 1. Bot√≥n Volver Arriba
        // =============================================
        const btnTop = document.getElementById('btnTop');
        
        window.addEventListener('scroll', function() {
            if (window.scrollY > 400) {
                btnTop.classList.add('visible');
            } else {
                btnTop.classList.remove('visible');
            }
        });

        btnTop.addEventListener('click', function() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });

        // =============================================
        // 2. Secci√≥n de Activaci√≥n
        // =============================================
        const seccionActivacion = document.getElementById('activacion');
        const navActivacion = document.getElementById('nav-activacion');
        const form = document.getElementById('activation-form');

        // Mostrar secci√≥n y hacer scroll
        function mostrarActivacion() {
            seccionActivacion.classList.add('visible');
            setTimeout(() => {
                seccionActivacion.scrollIntoView({ behavior: 'smooth' });
            }, 100);
        }

        // Click en nav "Activaci√≥n"
        navActivacion.addEventListener('click', function(e) {
            e.preventDefault();
            mostrarActivacion();
        });

        // =============================================
        // 3. Leer par√°metros de URL (desde la app)
        // =============================================
        document.addEventListener('DOMContentLoaded', function() {
            const params = new URLSearchParams(window.location.search);
            
            const nombre = params.get('nombre');
            const hwId = params.get('hw_id');
            const juzgado = params.get('juzgado') || '';
            const numero = params.get('numero') || '';
            const partido = params.get('partido') || '';

            // Si hay par√°metros (viene desde la app), rellenar y bloquear campos
            if (nombre || hwId) {
                const campoNombre = document.getElementById('nombre');
                const campoHwId = document.getElementById('hw_id');
                const campoDestino = document.getElementById('destino');

                // Rellenar y bloquear campos (deben coincidir con la licencia)
                if (nombre) {
                    campoNombre.value = decodeURIComponent(nombre);
                    campoNombre.setAttribute('readonly', true);
                }
                if (hwId) {
                    campoHwId.value = decodeURIComponent(hwId);
                    campoHwId.setAttribute('readonly', true);
                }
                
                // Campos ocultos
                document.getElementById('juzgado').value = decodeURIComponent(juzgado);
                document.getElementById('numero').value = decodeURIComponent(numero);
                document.getElementById('partido').value = decodeURIComponent(partido);
                
                // Construir destino legible
                if (juzgado || partido) {
                    let destino = '';
                    if (juzgado) destino += decodeURIComponent(juzgado);
                    if (numero) destino += ' N¬∫ ' + decodeURIComponent(numero);
                    if (partido) destino += ' de ' + decodeURIComponent(partido);
                    campoDestino.value = destino.trim();
                    campoDestino.setAttribute('readonly', true);
                }

                // Mostrar secci√≥n autom√°ticamente
                mostrarActivacion();
            }
        });

        // =============================================
        // 4. Validaci√≥n del formulario antes de enviar
        // =============================================
        form.addEventListener('submit', function(e) {
            const nombre = document.getElementById('nombre').value.trim();
            const hwId = document.getElementById('hw_id').value.trim();
            const email = document.getElementById('email').value.trim();
            
            if (!nombre || !hwId || !email) {
                e.preventDefault();
                alert('Por favor, complete todos los campos obligatorios.');
                return false;
            }
            
            // El formulario se env√≠a normalmente al servidor de pagos
            // No necesitamos preventDefault() - dejamos que haga el POST
        });

        // =============================================
        // 5. Animaci√≥n SmartScreen Demo (con pesta√±as Win10/Win11)
        // =============================================
        (function() {
            // Referencias a elementos
            const osTabs = document.querySelectorAll('.os-tab');
            const demoWin11 = document.getElementById('demo-win11');
            const demoWin10 = document.getElementById('demo-win10');
            
            // Slides Windows 11
            const slide1Win11 = document.getElementById('slide1-win11');
            const slide2Win11 = document.getElementById('slide2-win11');
            const stepsWin11 = demoWin11 ? demoWin11.querySelectorAll('.step-indicator') : [];
            
            // Slides Windows 10
            const slide1Win10 = document.getElementById('slide1-win10');
            const slide2Win10 = document.getElementById('slide2-win10');
            const stepsWin10 = demoWin10 ? demoWin10.querySelectorAll('.step-indicator') : [];
            
            if (!slide1Win11 || !slide2Win11) return;
            
            // Estado
            let currentOS = 'win11';
            let currentStepWin11 = 1;
            let currentStepWin10 = 1;
            
            // Iniciar con slide1 activo en ambos
            slide1Win11.classList.add('active');
            if (slide1Win10) slide1Win10.classList.add('active');
            
            // Funci√≥n para reiniciar animaciones de un contenedor
            function restartAnimations(container) {
                const cursors = container.querySelectorAll('.cursor-container');
                const ripples = container.querySelectorAll('.click-ripple');
                
                // Forzar reinicio de animaciones quitando y a√±adiendo el estilo
                [...cursors, ...ripples].forEach(el => {
                    el.style.animation = 'none';
                    el.offsetHeight; // Forzar reflow
                    el.style.animation = '';
                });
            }
            
            // Funci√≥n para cambiar de pesta√±a
            function switchOS(os) {
                currentOS = os;
                
                // Actualizar pesta√±as
                osTabs.forEach(tab => {
                    if (tab.dataset.os === os) {
                        tab.classList.add('active');
                    } else {
                        tab.classList.remove('active');
                    }
                });
                
                // Mostrar/ocultar demos y resetear estado
                if (os === 'win11') {
                    demoWin11.style.display = 'block';
                    demoWin10.style.display = 'none';
                    
                    // Resetear a slide 1
                    slide1Win11.classList.add('active');
                    slide2Win11.classList.remove('active');
                    stepsWin11[0].classList.add('active');
                    stepsWin11[1].classList.remove('active');
                    currentStepWin11 = 1;
                    
                    // Reiniciar animaciones
                    restartAnimations(demoWin11);
                } else {
                    demoWin11.style.display = 'none';
                    demoWin10.style.display = 'block';
                    
                    // Resetear a slide 1
                    if (slide1Win10 && slide2Win10) {
                        slide1Win10.classList.add('active');
                        slide2Win10.classList.remove('active');
                        stepsWin10[0].classList.add('active');
                        stepsWin10[1].classList.remove('active');
                        currentStepWin10 = 1;
                        
                        // Reiniciar animaciones
                        restartAnimations(demoWin10);
                    }
                }
            }
            
            // Detectar versi√≥n de Windows del usuario
            async function detectWindowsVersion() {
                // Intentar usar userAgentData (m√°s preciso para Windows 11)
                if (navigator.userAgentData && navigator.userAgentData.platform === 'Windows') {
                    try {
                        const ua = await navigator.userAgentData.getHighEntropyValues(['platformVersion']);
                        const majorVersion = parseInt(ua.platformVersion.split('.')[0]);
                        // Windows 11 tiene platformVersion >= 13
                        if (majorVersion >= 13) {
                            return 'win11';
                        } else {
                            return 'win10';
                        }
                    } catch (e) {
                        // Si falla, continuar con el m√©todo tradicional
                    }
                }
                
                // M√©todo tradicional usando userAgent (no puede distinguir Win10/11 con certeza)
                const ua = navigator.userAgent;
                if (ua.includes('Windows NT 10.0')) {
                    // Windows 10 y 11 comparten "Windows NT 10.0"
                    // Por defecto mostramos Windows 11 (m√°s reciente)
                    return 'win11';
                }
                
                return 'win11'; // Por defecto
            }
            
            // Detectar y mostrar la pesta√±a correcta seg√∫n el SO del usuario
            detectWindowsVersion().then(detectedOS => {
                switchOS(detectedOS);
            });
            
            // Event listeners para pesta√±as
            osTabs.forEach(tab => {
                tab.addEventListener('click', function() {
                    switchOS(this.dataset.os);
                });
            });
            
            // Duraci√≥n de cada paso en ms (3.2s para dar tiempo a ver el click)
            const stepDuration = 3200;
            
            function switchSlideWin11() {
                // Solo ejecutar si Win11 est√° activo
                if (currentOS !== 'win11') return;
                
                if (currentStepWin11 === 1) {
                    slide1Win11.classList.remove('active');
                    slide2Win11.classList.add('active');
                    stepsWin11[0].classList.remove('active');
                    stepsWin11[1].classList.add('active');
                    currentStepWin11 = 2;
                } else {
                    slide2Win11.classList.remove('active');
                    slide1Win11.classList.add('active');
                    stepsWin11[1].classList.remove('active');
                    stepsWin11[0].classList.add('active');
                    currentStepWin11 = 1;
                }
                
                // Reiniciar animaciones del slide activo
                restartAnimations(demoWin11);
            }
            
            function switchSlideWin10() {
                // Solo ejecutar si Win10 est√° activo
                if (currentOS !== 'win10') return;
                if (!slide1Win10 || !slide2Win10) return;
                
                if (currentStepWin10 === 1) {
                    slide1Win10.classList.remove('active');
                    slide2Win10.classList.add('active');
                    stepsWin10[0].classList.remove('active');
                    stepsWin10[1].classList.add('active');
                    currentStepWin10 = 2;
                } else {
                    slide2Win10.classList.remove('active');
                    slide1Win10.classList.add('active');
                    stepsWin10[1].classList.remove('active');
                    stepsWin10[0].classList.add('active');
                    currentStepWin10 = 1;
                }
                
                // Reiniciar animaciones del slide activo
                restartAnimations(demoWin10);
            }
            
            // Animaciones independientes para cada OS
            setInterval(switchSlideWin11, stepDuration);
            setInterval(switchSlideWin10, stepDuration);
        })();

        // =============================================
        // 6. Contador de Descargas (GitHub API)
        // =============================================
        (function() {
            const MINIMUM_DOWNLOADS = 100; // Solo mostrar si hay >= 100 descargas
            const counterElement = document.getElementById('downloadCounter');
            const countElement = document.getElementById('downloadCount');
            
            if (!counterElement || !countElement) return;

            // Consultar la API de GitHub Releases
            fetch('https://api.github.com/repos/xvi82/delitos-leves/releases')
                .then(response => response.json())
                .then(releases => {
                    // Sumar todas las descargas de todos los assets de todos los releases
                    let totalDownloads = 0;
                    
                    releases.forEach(release => {
                        if (release.assets && release.assets.length > 0) {
                            release.assets.forEach(asset => {
                                totalDownloads += asset.download_count || 0;
                            });
                        }
                    });

                    // Solo mostrar si supera el m√≠nimo
                    if (totalDownloads >= MINIMUM_DOWNLOADS) {
                        // Redondear a la centena inferior para mostrar "M√°s de X"
                        const roundedCount = Math.floor(totalDownloads / 100) * 100;
                        countElement.textContent = roundedCount.toLocaleString('es-ES');
                        counterElement.style.display = 'inline-flex';
                    }
                })
                .catch(error => {
                    // Si hay error, simplemente no mostramos el contador
                    console.log('No se pudo obtener el contador de descargas');
                });
        })();

        // =============================================
        // 7. Navegaci√≥n Lateral con Texto
        // =============================================
        (function() {
            const navDots = document.getElementById('navDots');
            const navItems = document.querySelectorAll('.nav-item');
            
            if (!navDots || navItems.length === 0) return;

            // Secciones a observar
            const sectionIds = [
                'caracteristicas', 'sec-partes', 'sec-argumentos', 'sec-biblioteca',
                'sec-hechos', 'sec-penas', 'sec-config', 'sec-dictado', 
                'sec-herramientas-ia', 'sec-analisis-ia', 'sec-cambios', 
                'sec-estadisticas', 'sec-borradores'
            ];

            // Mostrar/ocultar navegaci√≥n seg√∫n scroll
            function updateNavVisibility() {
                const scrollY = window.scrollY;
                const showNav = scrollY > 400;
                navDots.classList.toggle('visible', showNav);
            }

            // Actualizar item activo seg√∫n la secci√≥n visible
            function updateActiveItem() {
                const scrollY = window.scrollY + window.innerHeight / 3;
                let activeIndex = 0;

                sectionIds.forEach((id, index) => {
                    const section = document.getElementById(id);
                    if (section) {
                        const rect = section.getBoundingClientRect();
                        const sectionTop = rect.top + window.scrollY;
                        if (scrollY >= sectionTop) {
                            activeIndex = index;
                        }
                    }
                });

                // Actualizar clases: active, near, y el resto con blur
                navItems.forEach((item, index) => {
                    const distance = Math.abs(index - activeIndex);
                    
                    item.classList.remove('active', 'near');
                    
                    if (index === activeIndex) {
                        item.classList.add('active');
                    } else if (distance === 1) {
                        item.classList.add('near');
                    }
                });
            }

            // Click en items de navegaci√≥n
            navItems.forEach(item => {
                item.addEventListener('click', (e) => {
                    e.preventDefault();
                    const targetId = item.getAttribute('data-target');
                    const target = document.getElementById(targetId);
                    if (target) {
                        target.scrollIntoView({ behavior: 'smooth' });
                    }
                });
            });

            // Eventos de scroll
            let scrollTimeout;
            window.addEventListener('scroll', () => {
                if (scrollTimeout) clearTimeout(scrollTimeout);
                scrollTimeout = setTimeout(() => {
                    updateNavVisibility();
                    updateActiveItem();
                }, 10);
            });

            // Inicializar
            updateNavVisibility();
            updateActiveItem();
        })();

        // =============================================
        // 8. Scroll Reveal Animations
        // =============================================
        (function() {
            // A√±adir clases reveal a los elementos
            const sections = document.querySelectorAll('.section .split-layout');
            
            sections.forEach(section => {
                const textBlock = section.querySelector('.text-block');
                const imageBlock = section.querySelector('.image-block');
                
                if (textBlock) {
                    textBlock.classList.add('reveal');
                }
                if (imageBlock) {
                    imageBlock.classList.add('reveal', 'reveal-delay-2');
                    // A√±adir clase para parallax
                    imageBlock.classList.add('parallax-container');
                    const img = imageBlock.querySelector('img');
                    if (img) {
                        img.classList.add('parallax-img');
                    }
                }
            });

            // Tambi√©n animar las req-cards
            const reqCards = document.querySelectorAll('.req-card');
            reqCards.forEach((card, index) => {
                card.classList.add('reveal');
                card.classList.add('reveal-delay-' + ((index % 3) + 1));
            });

            // Intersection Observer para reveal
            const observerOptions = {
                root: null,
                rootMargin: '0px',
                threshold: 0.15
            };

            const revealObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                    }
                });
            }, observerOptions);

            // Observar todos los elementos con clase reveal
            document.querySelectorAll('.reveal, .reveal-left, .reveal-right').forEach(el => {
                revealObserver.observe(el);
            });
        })();

        // =============================================
        // 9. Parallax Effect on Images
        // =============================================
        (function() {
            // Solo activar en pantallas grandes
            if (window.innerWidth <= 768) return;

            const parallaxImages = document.querySelectorAll('.parallax-img');
            
            if (parallaxImages.length === 0) return;

            let ticking = false;

            function updateParallax() {
                parallaxImages.forEach(img => {
                    const container = img.closest('.parallax-container');
                    if (!container) return;

                    const rect = container.getBoundingClientRect();
                    const windowHeight = window.innerHeight;
                    
                    // Solo aplicar si el elemento est√° visible
                    if (rect.top < windowHeight && rect.bottom > 0) {
                        // Calcular el offset basado en la posici√≥n
                        const scrollPercent = (windowHeight - rect.top) / (windowHeight + rect.height);
                        const parallaxOffset = (scrollPercent - 0.5) * 30; // 30px de movimiento m√°ximo
                        
                        img.style.transform = `translateY(${parallaxOffset}px)`;
                    }
                });
                ticking = false;
            }

            window.addEventListener('scroll', () => {
                if (!ticking) {
                    requestAnimationFrame(updateParallax);
                    ticking = true;
                }
            });

            // Ejecutar una vez al cargar
            updateParallax();
        })();

        // =============================================
        // 10. N√∫meros Decorativos de Secci√≥n
        // =============================================
        (function() {
            const sections = document.querySelectorAll('.section:not(#requisitos)');
            
            sections.forEach((section, index) => {
                // Crear el n√∫mero decorativo
                const number = document.createElement('span');
                number.className = 'section-number';
                number.textContent = String(index + 1).padStart(2, '0');
                section.appendChild(number);
            });
        })();

        // =============================================
        // 11. Separadores Animados entre Secciones
        // =============================================
        (function() {
            const sections = document.querySelectorAll('.section');
            
            sections.forEach((section, index) => {
                // No a√±adir separador despu√©s de la √∫ltima secci√≥n ni antes de requisitos
                if (index < sections.length - 1 && !section.id?.includes('requisitos')) {
                    const divider = document.createElement('div');
                    divider.className = 'section-divider';
                    section.after(divider);
                }
            });

            // Observer para animar los separadores
            const dividerObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                    }
                });
            }, { threshold: 0.5 });

            document.querySelectorAll('.section-divider').forEach(divider => {
                dividerObserver.observe(divider);
            });
        })();

        // =============================================
        // 12. Sombras Din√°micas en Im√°genes
        // =============================================
        (function() {
            const imageBlocks = document.querySelectorAll('.image-block');
            
            if (imageBlocks.length === 0) return;

            function updateShadows() {
                const windowHeight = window.innerHeight;
                const centerY = windowHeight / 2;

                imageBlocks.forEach(block => {
                    const rect = block.getBoundingClientRect();
                    const blockCenter = rect.top + rect.height / 2;
                    
                    // Calcular distancia al centro de la pantalla
                    const distanceFromCenter = Math.abs(blockCenter - centerY);
                    const maxDistance = windowHeight / 2;
                    
                    // Quitar clases anteriores
                    block.classList.remove('dynamic-shadow-light', 'dynamic-shadow-medium', 'dynamic-shadow-deep');
                    
                    // Solo aplicar si est√° visible
                    if (rect.top < windowHeight && rect.bottom > 0) {
                        if (distanceFromCenter < maxDistance * 0.3) {
                            block.classList.add('dynamic-shadow-deep');
                        } else if (distanceFromCenter < maxDistance * 0.6) {
                            block.classList.add('dynamic-shadow-medium');
                        } else {
                            block.classList.add('dynamic-shadow-light');
                        }
                    }
                });
            }

            let ticking = false;
            window.addEventListener('scroll', () => {
                if (!ticking) {
                    requestAnimationFrame(() => {
                        updateShadows();
                        ticking = false;
                    });
                    ticking = true;
                }
            });

            updateShadows();
        })();

        // =============================================
        // 13. T√≠tulos con Peso Din√°mico
        // =============================================
        (function() {
            const titles = document.querySelectorAll('.text-block h3');
            
            if (titles.length === 0) return;

            function updateTitleWeights() {
                const windowHeight = window.innerHeight;
                const optimalPosition = windowHeight * 0.35; // Posici√≥n √≥ptima (35% desde arriba)

                titles.forEach(title => {
                    const rect = title.getBoundingClientRect();
                    const titleCenter = rect.top + rect.height / 2;
                    
                    // Solo procesar si est√° visible
                    if (rect.top < windowHeight && rect.bottom > 0) {
                        // Calcular distancia a la posici√≥n √≥ptima
                        const distance = Math.abs(titleCenter - optimalPosition);
                        const maxDistance = windowHeight * 0.5;
                        
                        // Calcular peso: 700 cuando est√° en posici√≥n √≥ptima, 400 cuando est√° lejos
                        const progress = Math.max(0, 1 - (distance / maxDistance));
                        const weight = Math.round(400 + (progress * 300)); // 400 a 700
                        
                        // Aplicar peso
                        if (CSS.supports('font-variation-settings', '"wght" 400')) {
                            title.style.fontVariationSettings = `'wght' ${weight}`;
                        } else {
                            // Fallback: usar clases
                            title.classList.toggle('weight-bold', weight > 550);
                        }
                    }
                });
            }

            let ticking = false;
            window.addEventListener('scroll', () => {
                if (!ticking) {
                    requestAnimationFrame(() => {
                        updateTitleWeights();
                        ticking = false;
                    });
                    ticking = true;
                }
            });

            // Ejecutar al cargar
            updateTitleWeights();
        })();
    </script>

</body>
</html>
